#include "enums.h"

#define DB(value)\
	{size_t temp = value;\
	memcpy (this -> output_current, &temp, 1);\
	this -> output_current += 1;}

#define DW(value)\
	{size_t temp = value;\
	memcpy (this -> output_current, &temp, 2);\
	this -> output_current += 2;}

#define DD(value)\
	{size_t temp = value;\
	memcpy (this -> output_current, &temp, 4);\
	this -> output_current += 4;}

#define DQ(value)\
	{size_t temp = value;\
	memcpy (this -> output_current, &temp, 8);\
	this -> output_current += 8;}

#define GETINT this -> get_int ()

TRAN_CMD(END, { DW (0x8148) DB (0xc5) DD (0x400)    
		 DB (0xb8)   DD (0x3c) DW (0x3148) DB (0xff) DW (0x050f) })

TRAN_CMD(OUT, { DB (0x58)
		DB (0xbb) DD (0x3b9aca00)
		DB (0x48) DB (0xbf) DQ (0x6000c2)
		DB (0x48) DB (0xbe) DQ (0x6000b2)
		DB (0x41) DB (0xb8) DD (0x00)
		DB (0xb9) DD (0x80000000)
		DB (0x48) DB (0x21) DB (0xc1)
		DW (0x8348) DB (0xf9) DB (0x00)
		DB (0x74) DB (0x1b)
		DB (0x48) DW (0xc1c7) DD (0xffffffff)
		DW (0x3148) DB (0xd2)
		DW (0xf748) DB (0xe1)
		DB (0xb3) DB (0x2d)
		DB (0x88) DB (0x1f)
		DW (0xff48) DB (0xc7)
		DB (0xb9) DD (0x1)
		DB (0xeb) DB (0x03)

		DW (0x3148) DB (0xc9)

		DB (0xba) DD (0x00)
		DW (0xf748) DB (0xf3)
		DB (0x4c) DB (0x39) DB (0xc0)
		DB (0x74) DB (0x18)
		DB (0x41) DB (0xb8) DD (0xb)
		DB (0x48) DB (0x01) DB (0xc6)
		DB (0x53)
		DB (0x8a) DB (0x1e)
		DB (0x88) DB (0x1f)
		DB (0x5b)
		DW (0x2948) DB (0xc6)
		DW (0xff48) DB (0xc7)
		DW (0xff48) DB (0xc1)

		DB (0x52)
		DW (0x8948) DB (0xd8)
		DB (0xbb) DD (0xa)
		DB (0xba) DD (0x00)
		DW (0xf748) DB (0xf3)
		DW (0x8948) DB (0xc3)
		DB (0x58)
		DW (0x8348) DB (0xfb) DB (0x00)
		DB (0x75) DB (0xc0)
		DB (0xb3) DB (0xa)
		DB (0x88) DB (0x1f)
		DW (0xff48) DB (0xc1)
		DB (0xb8) DD (0x1)
		DB (0xbf) DD (0x1)
		DW (0xbe48) DQ (0x6000c2)
		DW (0x8948) DB (0xca)
		DW (0x050f)
		})

TRAN_CMD (PUSH, {
		int mode = GETINT;
		if (mode == VAL)
			{
				DB (0x68) DD (GETINT)
			}		
		})
